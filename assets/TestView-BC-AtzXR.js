import{_ as x,u as f,a as h,o as k,c as d,b as e,d as s,t as i,e as b,n as w,f as g,w as Q,T as y,g as C,h as z,i as r,j as l,k as T}from"./index-CMlKG9jK.js";const I={class:"test-view"},N={key:0,class:"loading-state"},V={key:1,class:"test-content"},$={class:"progress-container animate-fade-in"},q={class:"progress-header"},B={class:"progress-info"},S={class:"label"},L={class:"value"},M={class:"question-count"},P={class:"progress-track"},R={class:"question-container"},j={class:"question-prompt"},A={class:"scale-container"},D={class:"scale-options"},E=["title"],H={key:0,class:"neutral-hint"},F={class:"mobile-labels"},G={class:"left"},J={class:"right"},K={class:"navigation animate-fade-in delay-200"},O=["disabled"],U=["disabled"],W={key:2,class:"error-state"},X={__name:"TestView",setup(Y){const{t:u,locale:c}=f(),p=C(),t=h();k(()=>{t.totalQuestions===0&&!t.isLoading&&p.push("/")});const o=z(()=>t.currentQuestion),v=_=>{o.value&&(t.answerQuestion(o.value.id,_),t.currentQuestionIndex<t.totalQuestions-1?setTimeout(()=>{t.nextQuestion()},300):setTimeout(()=>{p.push("/result")},300))},m=()=>{t.currentQuestionIndex<t.totalQuestions-1?t.nextQuestion():p.push("/result")};return(_,n)=>(r(),d("div",I,[e(t).isLoading?(r(),d("div",N,[...n[7]||(n[7]=[s("div",{class:"spinner"},null,-1)])])):o.value?(r(),d("div",V,[s("div",$,[s("div",q,[s("div",B,[s("span",S,i(e(u)("test.progress")),1),s("span",L,i(e(t).progressPercent)+"%",1)]),s("div",M,[b(i(e(t).currentQuestionIndex+1)+" ",1),n[8]||(n[8]=s("span",{class:"divider"},"/",-1)),b(" "+i(e(t).totalQuestions),1)])]),s("div",P,[s("div",{class:"progress-fill",style:w({width:e(t).progressPercent+"%"})},null,4)])]),s("div",R,[g(y,{name:"slide-fade",mode:"out-in"},{default:Q(()=>[(r(),d("div",{key:o.value.id,class:"question-card"},[s("h2",j,i(o.value.text[e(c)]),1),s("div",A,[s("div",{class:l(["scale-label left",{active:e(t).answers[o.value.id]<0}])},i(o.value.options[1].text[e(c)]),3),s("div",D,[s("button",{class:l(["scale-btn size-xl color-secondary",{selected:e(t).answers[o.value.id]===-2}]),onClick:n[0]||(n[0]=a=>v(-2))},null,2),s("button",{class:l(["scale-btn size-md color-secondary",{selected:e(t).answers[o.value.id]===-1}]),onClick:n[1]||(n[1]=a=>v(-1))},null,2),s("button",{class:l(["scale-btn size-sm color-neutral",{selected:e(t).answers[o.value.id]===0}]),onClick:n[2]||(n[2]=a=>v(0)),title:e(u)("test.neutral")},[e(t).answers[o.value.id]===0?(r(),d("span",H,i(e(u)("test.neutral")),1)):T("",!0)],10,E),s("button",{class:l(["scale-btn size-md color-primary",{selected:e(t).answers[o.value.id]===1}]),onClick:n[3]||(n[3]=a=>v(1))},null,2),s("button",{class:l(["scale-btn size-xl color-primary",{selected:e(t).answers[o.value.id]===2}]),onClick:n[4]||(n[4]=a=>v(2))},null,2)]),s("div",{class:l(["scale-label right",{active:e(t).answers[o.value.id]>0}])},i(o.value.options[0].text[e(c)]),3)]),s("div",F,[s("span",G,i(o.value.options[1].text[e(c)]),1),s("span",J,i(o.value.options[0].text[e(c)]),1)])]))]),_:1})]),s("div",K,[s("button",{class:"nav-btn prev",onClick:n[5]||(n[5]=(...a)=>e(t).prevQuestion&&e(t).prevQuestion(...a)),disabled:e(t).currentQuestionIndex===0},i(e(u)("test.prev")),9,O),s("button",{class:"nav-btn next",onClick:m,disabled:e(t).answers[o.value.id]===void 0},i(e(u)("test.next")),9,U)])])):(r(),d("div",W,[n[9]||(n[9]=s("p",null,"No questions loaded.",-1)),s("button",{onClick:n[6]||(n[6]=a=>e(p).push("/"))},"Return Home")]))]))}},ss=x(X,[["__scopeId","data-v-7b4a1da4"]]);export{ss as default};
