import{_ as x,u as f,a as g,o as w,c as u,b as t,d as s,t as i,e as b,n as h,f as k,w as Q,T as y,g as C,h as z,i as c,j as a}from"./index-CR4uytt_.js";const T={class:"test-view"},I={key:0,class:"loading-state"},$={key:1,class:"test-content"},q={class:"progress-container animate-fade-in"},N={class:"progress-header"},V={class:"progress-info"},B={class:"label"},S={class:"value"},L={class:"question-count"},M={class:"progress-track"},P={class:"question-container"},R={class:"question-prompt"},j={class:"scale-container"},A={class:"scale-options"},D={class:"mobile-labels"},E={class:"left"},H={class:"right"},F={class:"navigation animate-fade-in delay-200"},G=["disabled"],J=["disabled"],K={key:2,class:"error-state"},O={__name:"TestView",setup(U){const{t:p,locale:d}=f(),v=C(),e=g();w(()=>{e.totalQuestions===0&&!e.isLoading&&v.push("/")});const o=z(()=>e.currentQuestion),r=_=>{o.value&&(e.answerQuestion(o.value.id,_),e.currentQuestionIndex<e.totalQuestions-1?setTimeout(()=>{e.nextQuestion()},300):setTimeout(()=>{v.push("/result")},300))},m=()=>{e.currentQuestionIndex<e.totalQuestions-1?e.nextQuestion():v.push("/result")};return(_,n)=>(c(),u("div",T,[t(e).isLoading?(c(),u("div",I,[...n[7]||(n[7]=[s("div",{class:"spinner"},null,-1)])])):o.value?(c(),u("div",$,[s("div",q,[s("div",N,[s("div",V,[s("span",B,i(t(p)("test.progress")),1),s("span",S,i(t(e).progressPercent)+"%",1)]),s("div",L,[b(i(t(e).currentQuestionIndex+1)+" ",1),n[8]||(n[8]=s("span",{class:"divider"},"/",-1)),b(" "+i(t(e).totalQuestions),1)])]),s("div",M,[s("div",{class:"progress-fill",style:h({width:t(e).progressPercent+"%"})},null,4)])]),s("div",P,[k(y,{name:"slide-fade",mode:"out-in"},{default:Q(()=>[(c(),u("div",{key:o.value.id,class:"question-card"},[s("h2",R,i(o.value.text[t(d)]),1),s("div",j,[s("div",{class:a(["scale-label left",{active:t(e).answers[o.value.id]<0}])},i(o.value.options[1].text[t(d)]),3),s("div",A,[s("button",{class:a(["scale-btn size-xl color-secondary",{selected:t(e).answers[o.value.id]===-2}]),onClick:n[0]||(n[0]=l=>r(-2))},null,2),s("button",{class:a(["scale-btn size-md color-secondary",{selected:t(e).answers[o.value.id]===-1}]),onClick:n[1]||(n[1]=l=>r(-1))},null,2),s("button",{class:a(["scale-btn size-sm color-neutral",{selected:t(e).answers[o.value.id]===0}]),onClick:n[2]||(n[2]=l=>r(0))},null,2),s("button",{class:a(["scale-btn size-md color-primary",{selected:t(e).answers[o.value.id]===1}]),onClick:n[3]||(n[3]=l=>r(1))},null,2),s("button",{class:a(["scale-btn size-xl color-primary",{selected:t(e).answers[o.value.id]===2}]),onClick:n[4]||(n[4]=l=>r(2))},null,2)]),s("div",{class:a(["scale-label right",{active:t(e).answers[o.value.id]>0}])},i(o.value.options[0].text[t(d)]),3)]),s("div",D,[s("span",E,i(o.value.options[1].text[t(d)]),1),s("span",H,i(o.value.options[0].text[t(d)]),1)])]))]),_:1})]),s("div",F,[s("button",{class:"nav-btn prev",onClick:n[5]||(n[5]=(...l)=>t(e).prevQuestion&&t(e).prevQuestion(...l)),disabled:t(e).currentQuestionIndex===0},i(t(p)("test.prev")),9,G),s("button",{class:"nav-btn next",onClick:m,disabled:t(e).answers[o.value.id]===void 0},i(t(p)("test.next")),9,J)])])):(c(),u("div",K,[n[9]||(n[9]=s("p",null,"No questions loaded.",-1)),s("button",{onClick:n[6]||(n[6]=l=>t(v).push("/"))},"Return Home")]))]))}},X=x(O,[["__scopeId","data-v-84db1aa0"]]);export{X as default};
